var FarsiTypeBundle=function(t){"use strict";class e{static farsiKey=[32,33,34,35,36,37,1548,1711,41,40,215,43,1608,45,46,47,48,49,50,51,52,53,54,55,56,57,58,1705,44,61,46,1567,64,1616,1584,125,1609,1615,1609,1604,1570,247,1600,1548,47,8217,1583,215,1563,1614,1569,1613,1601,8216,123,1611,1618,1573,126,1580,1688,1670,94,95,1662,1588,1584,1586,1740,1579,1576,1604,1575,1607,1578,1606,1605,1574,1583,1582,1581,1590,1602,1587,1601,1593,1585,1589,1591,1594,1592,60,124,62,1617];static enNUM=[48,49,50,51,52,53,54,55,56,57];static convertString(t){return Array.from(t).map((t=>{const n=t.charCodeAt(0);return n<128&&void 0!==e.farsiKey[n-32]?String.fromCharCode(e.farsiKey[n-32]):t})).join("")}constructor(t={}){this.farsiKey=e.farsiKey,this.enNUM=e.enNUM,this.Type=!0,this.counter=0,this.ShowChangeLangButton=t.showLangButton||!1,this.ChangeDir=t.changeDir||!1,this.patternFA=t.patternFA??!0,this.init()}init(){const t=[...document.querySelectorAll('input[type="text"], input[type="tel"], input[type="number"]')],e=[...document.querySelectorAll("textarea")];t.concat(e).forEach((t=>{const e=t.lang.toLowerCase();"fa"!==e&&"fa-ir"!==e||(this.counter++,this.attachHandlers(t,this.counter))}))}attachHandlers(t,e){if(this.ShowChangeLangButton){const e=document.createElement("button");e.textContent="FA",e.style.cssText="margin:2px; padding:2px; font-size:12px",e.addEventListener("click",(()=>this.toggleLang(t,e))),t.insertAdjacentElement("afterend",e)}if(this.ChangeDir){const e=document.createElement("button");e.textContent="RTL",e.style.cssText="margin:2px; padding:2px; font-size:12px",e.addEventListener("click",(()=>this.toggleDirection(t,e))),t.insertAdjacentElement("afterend",e)}t.dataset.farsi=!0,t.style.direction="rtl",t.style.textAlign="right",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?t.addEventListener("keyup",(e=>this.handleMobileInput(e,t))):(t.addEventListener("keydown",(e=>this.handleKeydown(e,t))),t.addEventListener("keypress",(e=>this.handleKeypress(e,t))))}toggleLang(t,e){const n="true"===t.dataset.farsi;t.dataset.farsi=(!n).toString(),e.textContent=n?"EN":"FA",t.style.direction=n?"ltr":"rtl",t.style.textAlign=n?"left":"right",t.focus()}toggleDirection(t,e){const n="rtl"===t.style.direction?"ltr":"rtl";t.style.direction=n,t.style.textAlign="rtl"===n?"right":"left",e.textContent=n.toUpperCase(),t.focus()}handleKeydown(t,e){if(t.ctrlKey&&"Space"===t.code){t.preventDefault();const n="true"===e.dataset.farsi;e.dataset.farsi=(!n).toString(),e.style.direction=n?"ltr":"rtl",e.style.textAlign=n?"left":"right",e.focus()}}handleKeypress(t,e){if(!this.Type||"true"!==e.dataset.farsi||"true"===e.getAttribute("nomask"))return;const n=t.keyCode||t.which;if(t.ctrlKey&&32===n)t.preventDefault();else if(n<128){let r=this.farsiKey[n-32];void 0!==r&&(t.preventDefault(),this.insertChar(e,String.fromCharCode(r)))}}handleMobileInput(t,e){if(!this.Type||"true"!==e.dataset.farsi||"true"===e.getAttribute("nomask"))return;const n=e.selectionStart-1,r=e.value[n];if(!r)return;const i=r.charCodeAt(0);let s=this.farsiKey[i-32];void 0!==s&&(e.value=e.value.substring(0,n)+String.fromCharCode(s)+e.value.substring(n+1),this.setCursor(e,n+1))}insertChar(t,e){const n=t.selectionStart,r=t.selectionEnd;t.value=t.value.substring(0,n)+e+t.value.substring(r),this.setCursor(t,n+e.length)}setCursor(t,e){t.setSelectionRange(e,e),t.focus()}}return"undefined"!=typeof window&&(window.FarsiType=e),t.FarsiType=e,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
